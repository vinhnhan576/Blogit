{"ast":null,"code":"import React from\"react\";import Helmet from\"../components/Helmet\";import Banner from\"../components/Banner\";import{useSelector,useDispatch}from\"react-redux\";import{useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{getBloggerByAliasAsync}from\"../features/user/bloggerSlice\";import CategoryCard from\"../components/CategoryCard\";import PageNotFound from\"./PageNotFound\";import{useState}from\"react\";import alt from\"../assets/image/topic/alt.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Category(){var _blogger$Topic;var dispatch=useDispatch();var params=useParams();var alias=params.alias;var blogger=useSelector(function(state){return state.blogger;});useEffect(function(){dispatch(getBloggerByAliasAsync(alias));},[dispatch,alias]);var topic=(_blogger$Topic=blogger.Topic)===null||_blogger$Topic===void 0?void 0:_blogger$Topic.find(function(topic){return topic.slug===params.slug;});// const allBlogsByTopic = Array.isArray(allBlogs)\n// \t? allBlogs?.filter((blog) => blog.Topic.slug === params.slug)\n// \t: [allBlogs];\nvar allBlogsByTopic=topic?topic.Blog:null;if(typeof topic!==\"undefined\"&&topic.length===0||typeof topic===\"string\")return/*#__PURE__*/_jsx(PageNotFound,{});if(topic)return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Helmet,{title:\"Ch\\u1EE7 \\u0111\\u1EC1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"allCategoryCards\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"allCategoryCards_banner\",children:topic.img!==undefined&&topic.img!==''?/*#__PURE__*/_jsx(Banner,{img:'data:image/jpg;base64,'+topic.img.toString('base64'),width:\"100\",height:\"440\",quote:topic.quote}):/*#__PURE__*/_jsx(Banner,{img:alt,width:\"100\",height:\"440\",quote:topic.quote})}),/*#__PURE__*/_jsx(\"div\",{className:\"allCategoryCards_container\",children:allBlogsByTopic.map(function(blog,index){return/*#__PURE__*/_jsx(CategoryCard,{id:blog.id,img:blog.coverImg,date:\"\".concat(blog.location!==null?blog.location+\" - \":\"\").concat(blog.date!==undefined?blog.date.slice(0,10):\"\"),title:\"\".concat(blog.title),content:\"\".concat(blog.content),slug:\"\".concat(blog.slug),blogger:blogger},index);})})]})})});}export default Category;","map":{"version":3,"names":["React","Helmet","Banner","useSelector","useDispatch","useEffect","useParams","getBloggerByAliasAsync","CategoryCard","PageNotFound","useState","alt","Category","dispatch","params","alias","blogger","state","topic","Topic","find","slug","allBlogsByTopic","Blog","length","img","undefined","toString","quote","map","blog","index","id","coverImg","location","date","slice","title","content"],"sources":["D:/Code/HTML/BlogProject/client/src/pages/Category.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Helmet from \"../components/Helmet\";\r\nimport Banner from \"../components/Banner\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getBloggerByAliasAsync } from \"../features/user/bloggerSlice\";\r\nimport CategoryCard from \"../components/CategoryCard\";\r\nimport PageNotFound from \"./PageNotFound\";\r\nimport { useState } from \"react\";\r\nimport alt from \"../assets/image/topic/alt.jpg\";\r\n\r\nfunction Category() {\r\n\tconst dispatch = useDispatch();\r\n\tconst params = useParams();\r\n\tconst alias = params.alias;\r\n\tconst blogger = useSelector((state) => state.blogger);\r\n\tuseEffect(() => {\r\n\t\tdispatch(getBloggerByAliasAsync(alias));\r\n\t}, [dispatch, alias]);\r\n\t\r\n\tconst topic = blogger.Topic?.find((topic) => topic.slug === params.slug);\r\n\t// const allBlogsByTopic = Array.isArray(allBlogs)\r\n\t// \t? allBlogs?.filter((blog) => blog.Topic.slug === params.slug)\r\n\t// \t: [allBlogs];\r\n\tconst allBlogsByTopic = topic ? topic.Blog : null;\r\n\r\n\tif (\r\n\t\t(typeof topic !== \"undefined\" && topic.length === 0) ||\r\n\t\ttypeof topic === \"string\"\r\n\t)\r\n\t\treturn <PageNotFound />;\r\n\r\n\tif (topic)\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Helmet title=\"Chủ đề\">\r\n\t\t\t\t\t<div className=\"allCategoryCards\">\r\n\t\t\t\t\t\t<div className=\"allCategoryCards_banner\">\r\n\t\t\t\t\t\t\t{topic.img !== undefined && topic.img !== '' ? (\r\n\t\t\t\t\t\t\t\t<Banner\r\n\t\t\t\t\t\t\t\t\timg={'data:image/jpg;base64,' + topic.img.toString('base64')}\r\n\t\t\t\t\t\t\t\t\twidth=\"100\"\r\n\t\t\t\t\t\t\t\t\theight=\"440\"\r\n\t\t\t\t\t\t\t\t\tquote={topic.quote}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Banner\r\n\t\t\t\t\t\t\t\t\timg={alt}\r\n\t\t\t\t\t\t\t\t\twidth=\"100\"\r\n\t\t\t\t\t\t\t\t\theight=\"440\"\r\n\t\t\t\t\t\t\t\t\tquote={topic.quote}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"allCategoryCards_container\">\r\n\t\t\t\t\t\t\t{allBlogsByTopic.map((blog, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<CategoryCard\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tid={blog.id}\r\n\t\t\t\t\t\t\t\t\t\timg={blog.coverImg}\r\n\t\t\t\t\t\t\t\t\t\tdate={`${\r\n\t\t\t\t\t\t\t\t\t\t\tblog.location !== null ? blog.location + \" - \" : \"\"\r\n\t\t\t\t\t\t\t\t\t\t}${blog.date !== undefined ? blog.date.slice(0, 10) : \"\"}`}\r\n\t\t\t\t\t\t\t\t\t\ttitle={`${blog.title}`}\r\n\t\t\t\t\t\t\t\t\t\tcontent={`${blog.content}`}\r\n\t\t\t\t\t\t\t\t\t\tslug={`${blog.slug}`}\r\n\t\t\t\t\t\t\t\t\t\tblogger={blogger}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Helmet>\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Category;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}