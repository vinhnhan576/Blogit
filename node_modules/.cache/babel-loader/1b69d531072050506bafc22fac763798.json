{"ast":null,"code":"import { createSlice, createAsyncThunk, nanoid } from \"@reduxjs/toolkit\";\nimport Axios from \"axios\";\nexport const getAllBlogsByUserIDAsync = createAsyncThunk(\"blogs/getAllBlogsByUserIDAsync\", async userID => {\n  const response = await Axios.get(`https://blogprojectpbl3.herokuapp.com/api/blog?userID=${userID}`);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nexport const getBlogBySlugAsync = createAsyncThunk(\"blog/getBlogBySlugAsync\", async slug => {\n  const response = await Axios.get(`https://blogprojectpbl3.herokuapp.com/api/blog/getblogbyslug?slug=${slug}`);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nexport const createNewBlogAsync = createAsyncThunk(\"blog/createNewBlogAsync\", async _ref => {\n  let {\n    blogReqData\n  } = _ref;\n  console.log(blogReqData);\n  const response = await Axios.post(\"https://blogprojectpbl3.herokuapp.com/api/blog\", blogReqData);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nexport const updateBlogAsync = createAsyncThunk(\"blog/updateBlogAsync\", async _ref2 => {\n  let {\n    blogReqData\n  } = _ref2;\n  const id = blogReqData.id;\n  console.log(id);\n  console.log(blogReqData);\n  const response = await Axios.put(`https://blogprojectpbl3.herokuapp.com/api/blog/${blogReqData.id}`, blogReqData);\n  const tasks = response.data;\n  console.log(tasks);\n  return {\n    tasks\n  };\n});\nexport const deleteBlogAsync = createAsyncThunk(\"blog/deleteBlogAsync\", async id => {\n  const response = await Axios.delete(`https://blogprojectpbl3.herokuapp.com/api/blog/${id}`);\n  window.location.reload(false);\n  const tasks = response.data;\n  return {\n    tasks\n  };\n});\nconst blogSlice = createSlice({\n  name: \"blog\",\n  initialState: [],\n  reducers: {},\n  extraReducers: {\n    [getAllBlogsByUserIDAsync.fulfilled]: (state, action) => {\n      console.log(\"fetching blogs by userID successfully\");\n      return action.payload.tasks;\n    },\n    [getBlogBySlugAsync.fulfilled]: (state, action) => {\n      console.log(\"fetching blog by slug successfully\");\n      return action.payload.tasks;\n    },\n    [createNewBlogAsync.fulfilled]: (state, action) => {\n      console.log(\"added new blog successfully\");\n      return action.payload.tasks;\n    },\n    [updateBlogAsync.fulfilled]: (state, action) => {\n      console.log(\"updated blog successfully\");\n      return action.payload.tasks;\n    }\n  }\n});\nexport const {} = blogSlice.actions;\nexport const selectPost = state => state.blog.blog;\nexport default blogSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","nanoid","Axios","getAllBlogsByUserIDAsync","userID","response","get","tasks","data","getBlogBySlugAsync","slug","createNewBlogAsync","blogReqData","console","log","post","updateBlogAsync","id","put","deleteBlogAsync","delete","window","location","reload","blogSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","payload","actions","selectPost","blog","reducer"],"sources":["D:/Code/HTML/BlogProject/client/src/features/post/blogSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk, nanoid } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getAllBlogsByUserIDAsync = createAsyncThunk(\r\n\t\"blogs/getAllBlogsByUserIDAsync\",\r\n\tasync (userID) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog?userID=${userID}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const getBlogBySlugAsync = createAsyncThunk(\r\n\t\"blog/getBlogBySlugAsync\",\r\n\tasync (slug) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog/getblogbyslug?slug=${slug}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const createNewBlogAsync = createAsyncThunk(\r\n\t\"blog/createNewBlogAsync\",\r\n\tasync ({ blogReqData }) => {\r\n\t\tconsole.log(blogReqData);\r\n\t\tconst response = await Axios.post(\r\n\t\t\t\"https://blogprojectpbl3.herokuapp.com/api/blog\",\r\n\t\t\tblogReqData\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\n\r\nexport const updateBlogAsync = createAsyncThunk(\r\n  \"blog/updateBlogAsync\",\r\n\tasync ({blogReqData}) => {\r\n\t\tconst id = blogReqData.id;\r\n\t\tconsole.log(id);\r\n    console.log(blogReqData);\r\n    const response = await Axios.put(\r\n      `https://blogprojectpbl3.herokuapp.com/api/blog/${blogReqData.id}`,\r\n      blogReqData\r\n    );\r\n\t  const tasks = response.data;\r\n\t  console.log(tasks);\r\n    return { tasks };\r\n  }\r\n);\r\n\r\nexport const deleteBlogAsync = createAsyncThunk(\r\n\t\"blog/deleteBlogAsync\",\r\n\tasync (id) => {\r\n\t\tconst response = await Axios.delete(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog/${id}`\r\n\t\t);\r\n\t\twindow.location.reload(false);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nconst blogSlice = createSlice({\r\n\tname: \"blog\",\r\n\tinitialState: [],\r\n\treducers: {},\r\n\textraReducers: {\r\n\t\t[getAllBlogsByUserIDAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"fetching blogs by userID successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[getBlogBySlugAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"fetching blog by slug successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[createNewBlogAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"added new blog successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[updateBlogAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"updated blog successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t}\r\n\t},\r\n});\r\nexport const {} = blogSlice.actions;\r\n\r\nexport const selectPost = (state) => state.blog.blog;\r\n\r\nexport default blogSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}