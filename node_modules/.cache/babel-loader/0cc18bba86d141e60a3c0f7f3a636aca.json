{"ast":null,"code":"import _slicedToArray from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef}from\"react\";import{useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import MessageBox from\"./MessageBox\";import{deleteBlogAsync}from\"../features/post/blogSlice\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryCard=function CategoryCard(props,_ref){var deleteButtonClick=_ref.deleteButtonClick;var dispatch=useDispatch();var params=useParams();var bodyImageRef=useRef();var onImgLoad=function onImgLoad(_ref2){var img=_ref2.target;var offsetHeight=img.offsetHeight,offsetWidth=img.offsetWidth;if(offsetWidth>offsetHeight)bodyImageRef.current.classList.add(\"landscape\");else bodyImageRef.current.classList.add(\"portrait\");};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openMessageBox=_useState2[0],setOpenMessageBox=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),messageBoxType=_useState4[0],setMessageBoxType=_useState4[1];var publish=useRef();var store=useRef();var onCheckButtonClick=function onCheckButtonClick(){setOpenMessageBox(false);dispatch(deleteBlogAsync(props.id));};var onCloseButtonClick=function onCloseButtonClick(){setOpenMessageBox(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"category_container\",id:props.id,children:[/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(params.alias,\"/blog/\").concat(props.slug),children:[/*#__PURE__*/_jsx(\"div\",{className:\"category_container-image\",ref:bodyImageRef,children:/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:props.urlImage,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:props.date}),/*#__PURE__*/_jsx(\"h1\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{children:props.content})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-functions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-functions-left\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-paper-plane\",ref:publish,onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Xuất bản\");store.current.classList.toggle(\"hidden\");}}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-box hidden\",ref:store,onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Lưu trữ\");publish.current.classList.toggle(\"hidden\");}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-functions-right\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-edit-alt\",onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Chỉnh sửa\");}}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-trash\",onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Xóa\");}})]})]}),openMessageBox&&/*#__PURE__*/_jsx(MessageBox,{title:\"\".concat(messageBoxType,\" blog\"),body:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n \".concat(messageBoxType.toLowerCase(),\" \"),blogName:props.title,onCloseButtonClick:onCloseButtonClick,onCheckButtonClick:onCheckButtonClick})]});};export default CategoryCard;","map":{"version":3,"names":["React","useRef","useState","Link","useParams","MessageBox","deleteBlogAsync","useDispatch","CategoryCard","props","deleteButtonClick","dispatch","params","bodyImageRef","onImgLoad","img","target","offsetHeight","offsetWidth","current","classList","add","openMessageBox","setOpenMessageBox","messageBoxType","setMessageBoxType","publish","store","onCheckButtonClick","id","onCloseButtonClick","alias","slug","urlImage","date","title","content","toggle","toLowerCase"],"sources":["D:/Code/HTML/BlogProject/client/src/components/CategoryCard.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport MessageBox from \"./MessageBox\";\r\nimport { deleteBlogAsync } from \"../features/post/blogSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst CategoryCard = (props, { deleteButtonClick }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst params = useParams();\r\n\tconst bodyImageRef = useRef();\r\n\tconst onImgLoad = ({ target: img }) => {\r\n\t\tconst { offsetHeight, offsetWidth } = img;\r\n\t\tif (offsetWidth > offsetHeight)\r\n\t\t\tbodyImageRef.current.classList.add(\"landscape\");\r\n\t\telse bodyImageRef.current.classList.add(\"portrait\");\r\n\t};\r\n\r\n\tconst [openMessageBox, setOpenMessageBox] = useState(false);\r\n\r\n\tconst [messageBoxType, setMessageBoxType] = useState();\r\n\r\n\tconst publish = useRef();\r\n\tconst store = useRef();\r\n\r\n\tconst onCheckButtonClick = () => {\r\n\t\tsetOpenMessageBox(false);\r\n\t\tdispatch(deleteBlogAsync(props.id));\r\n\t\t\r\n\t};\r\n\r\n\tconst onCloseButtonClick = () => {\r\n\t\tsetOpenMessageBox(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"category_container\" id={props.id}>\r\n\t\t\t<Link to={`/${params.alias}/blog/${props.slug}`}>\r\n\t\t\t\t<div className=\"category_container-image\" ref={bodyImageRef}>\r\n\t\t\t\t\t<img onLoad={onImgLoad} src={props.urlImage} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"category_container-content\">\r\n\t\t\t\t\t<h3>{props.date}</h3>\r\n\t\t\t\t\t<h1>{props.title}</h1>\r\n\t\t\t\t\t<p>{props.content}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"category_container-functions\">\r\n\t\t\t\t<div className=\"category_container-functions-left\">\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"bx bx-paper-plane\"\r\n\t\t\t\t\t\tref={publish}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\tsetMessageBoxType(\"Xuất bản\");\r\n\t\t\t\t\t\t\tstore.current.classList.toggle(\"hidden\");\r\n\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"bx bxs-box hidden\"\r\n\t\t\t\t\t\tref={store}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\tsetMessageBoxType(\"Lưu trữ\");\r\n\t\t\t\t\t\t\tpublish.current.classList.toggle(\"hidden\");\r\n\t\t\t\t\t\t}}></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"category_container-functions-right\">\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"bx bxs-edit-alt\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\tsetMessageBoxType(\"Chỉnh sửa\");\r\n\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"bx bxs-trash\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\tsetMessageBoxType(\"Xóa\");\r\n\t\t\t\t\t\t}}></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{openMessageBox && (\r\n\t\t\t\t<MessageBox\r\n\t\t\t\t\ttitle={`${messageBoxType} blog`}\r\n\t\t\t\t\tbody={`Bạn có chắc chắn muốn ${messageBoxType.toLowerCase()} `}\r\n\t\t\t\t\tblogName={props.title}\r\n\t\t\t\t\tonCloseButtonClick={onCloseButtonClick}\r\n\t\t\t\t\tonCheckButtonClick={onCheckButtonClick}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CategoryCard;\r\n"],"mappings":"qHAAA,MAAOA,MAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,OAASC,eAAT,KAAgC,4BAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,MAAkC,IAAxBC,kBAAwB,MAAxBA,iBAAwB,CACtD,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,OAAM,CAAGR,SAAS,EAAxB,CACA,GAAMS,aAAY,CAAGZ,MAAM,EAA3B,CACA,GAAMa,UAAS,CAAG,QAAZA,UAAY,OAAqB,IAAVC,IAAU,OAAlBC,MAAkB,CACtC,GAAQC,aAAR,CAAsCF,GAAtC,CAAQE,YAAR,CAAsBC,WAAtB,CAAsCH,GAAtC,CAAsBG,WAAtB,CACA,GAAIA,WAAW,CAAGD,YAAlB,CACCJ,YAAY,CAACM,OAAb,CAAqBC,SAArB,CAA+BC,GAA/B,CAAmC,WAAnC,EADD,IAEKR,aAAY,CAACM,OAAb,CAAqBC,SAArB,CAA+BC,GAA/B,CAAmC,UAAnC,EACL,CALD,CAOA,cAA4CnB,QAAQ,CAAC,KAAD,CAApD,wCAAOoB,cAAP,eAAuBC,iBAAvB,eAEA,eAA4CrB,QAAQ,EAApD,yCAAOsB,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,QAAO,CAAGzB,MAAM,EAAtB,CACA,GAAM0B,MAAK,CAAG1B,MAAM,EAApB,CAEA,GAAM2B,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAChCL,iBAAiB,CAAC,KAAD,CAAjB,CACAZ,QAAQ,CAACL,eAAe,CAACG,KAAK,CAACoB,EAAP,CAAhB,CAAR,CAEA,CAJD,CAMA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAChCP,iBAAiB,CAAC,KAAD,CAAjB,CACA,CAFD,CAIA,mBACC,aAAK,SAAS,CAAC,oBAAf,CAAoC,EAAE,CAAEd,KAAK,CAACoB,EAA9C,wBACC,MAAC,IAAD,EAAM,EAAE,YAAMjB,MAAM,CAACmB,KAAb,kBAA2BtB,KAAK,CAACuB,IAAjC,CAAR,wBACC,YAAK,SAAS,CAAC,0BAAf,CAA0C,GAAG,CAAEnB,YAA/C,uBACC,YAAK,MAAM,CAAEC,SAAb,CAAwB,GAAG,CAAEL,KAAK,CAACwB,QAAnC,CAA6C,GAAG,CAAC,EAAjD,EADD,EADD,cAIC,aAAK,SAAS,CAAC,4BAAf,wBACC,oBAAKxB,KAAK,CAACyB,IAAX,EADD,cAEC,oBAAKzB,KAAK,CAAC0B,KAAX,EAFD,cAGC,mBAAI1B,KAAK,CAAC2B,OAAV,EAHD,GAJD,GADD,cAWC,aAAK,SAAS,CAAC,8BAAf,wBACC,aAAK,SAAS,CAAC,mCAAf,wBACC,UACC,SAAS,CAAC,mBADX,CAEC,GAAG,CAAEV,OAFN,CAGC,OAAO,CAAE,kBAAM,CACdH,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAG,iBAAiB,CAAC,UAAD,CAAjB,CACAE,KAAK,CAACR,OAAN,CAAcC,SAAd,CAAwBiB,MAAxB,CAA+B,QAA/B,EACA,CAPF,EADD,cASC,UACC,SAAS,CAAC,mBADX,CAEC,GAAG,CAAEV,KAFN,CAGC,OAAO,CAAE,kBAAM,CACdJ,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAG,iBAAiB,CAAC,SAAD,CAAjB,CACAC,OAAO,CAACP,OAAR,CAAgBC,SAAhB,CAA0BiB,MAA1B,CAAiC,QAAjC,EACA,CAPF,EATD,GADD,cAoBC,aAAK,SAAS,CAAC,oCAAf,wBACC,UACC,SAAS,CAAC,iBADX,CAEC,OAAO,CAAE,kBAAM,CACdd,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAG,iBAAiB,CAAC,WAAD,CAAjB,CACA,CALF,EADD,cAOC,UACC,SAAS,CAAC,cADX,CAEC,OAAO,CAAE,kBAAM,CACdF,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAG,iBAAiB,CAAC,KAAD,CAAjB,CACA,CALF,EAPD,GApBD,GAXD,CA8CEH,cAAc,eACd,KAAC,UAAD,EACC,KAAK,WAAKE,cAAL,SADN,CAEC,IAAI,wDAA2BA,cAAc,CAACc,WAAf,EAA3B,KAFL,CAGC,QAAQ,CAAE7B,KAAK,CAAC0B,KAHjB,CAIC,kBAAkB,CAAEL,kBAJrB,CAKC,kBAAkB,CAAEF,kBALrB,EA/CF,GADD,CA0DA,CAtFD,CAwFA,cAAepB,aAAf"},"metadata":{},"sourceType":"module"}