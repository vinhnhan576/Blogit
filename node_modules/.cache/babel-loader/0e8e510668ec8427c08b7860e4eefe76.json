{"ast":null,"code":"import React,{useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{getBlogBySlugAsync}from\"../features/post/blogSlice\";import Helmet from\"../components/Helmet\";import Banner from\"../components/Banner\";import{useDispatch,useSelector}from\"react-redux\";import PageNotFound from\"./PageNotFound\";import alt from\"../assets/image/blog/alt.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Blog(_ref){var name=_ref.name;var params=useParams();var slug=params.slug;var dispatch=useDispatch();var blogs=useSelector(function(state){return state.blog;});useEffect(function(){dispatch(getBlogBySlugAsync(slug));},[dispatch,slug]);var blog=Array.isArray(blogs)?blogs===null||blogs===void 0?void 0:blogs.find(function(blog){return blog.slug===slug;}):blogs;// if (\n// \t(blog.length === 0)\n// )\n// \treturn <PageNotFound />;\nif(typeof blog===\"object\")// if (blog)\nreturn/*#__PURE__*/_jsx(Helmet,{title:\"Blog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog\",children:[blog.coverImg!==undefined?/*#__PURE__*/_jsx(Banner,{img:'data:image/jpg;base64,'+blog.coverImg.toString('base64'),alt:alt,quote:blog.quote}):/*#__PURE__*/_jsx(Banner,{img:alt,alt:alt,quote:blog.quote}),/*#__PURE__*/_jsx(\"div\",{className:\"blog__timestamp\",children:\"\".concat(blog.location===undefined?blog.location+\" - \":\"\").concat(blog.date===undefined?\"\":blog.date.slice(0,10))}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog__content__title\",children:blog.title}),/*#__PURE__*/_jsx(\"div\",{className:\"blog__content__body\",children:blog.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog__content__signature\",children:[\"by \",name]})]})]})});}export default Blog;","map":{"version":3,"names":["React","useEffect","useParams","getBlogBySlugAsync","Helmet","Banner","useDispatch","useSelector","PageNotFound","alt","Blog","name","params","slug","dispatch","blogs","state","blog","Array","isArray","find","coverImg","undefined","toString","quote","location","date","slice","title","content"],"sources":["D:/Code/HTML/BlogProject/client/src/pages/Blog.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getBlogBySlugAsync } from \"../features/post/blogSlice\";\r\nimport Helmet from \"../components/Helmet\";\r\nimport Banner from \"../components/Banner\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PageNotFound from \"./PageNotFound\";\r\nimport alt from \"../assets/image/blog/alt.jpg\";\r\n\r\nfunction Blog({ name }) {\r\n\tconst params = useParams();\r\n\tconst slug = params.slug;\r\n\tconst dispatch = useDispatch();\r\n\tconst blogs = useSelector((state) => state.blog);\r\n\tuseEffect(() => {\r\n\t\tdispatch(getBlogBySlugAsync(slug));\r\n\t}, [dispatch, slug]);\r\n\tconst blog = Array.isArray(blogs)\r\n\t\t? blogs?.find((blog) => blog.slug === slug)\r\n\t\t: blogs;\r\n\r\n\t// if (\r\n\t// \t(blog.length === 0)\r\n\t// )\r\n\t// \treturn <PageNotFound />;\r\n\r\n\tif (typeof blog === \"object\")\r\n\t\t// if (blog)\r\n\t\treturn (\r\n\t\t\t<Helmet title=\"Blog\">\r\n\t\t\t\t<div className=\"blog\">\r\n\t\t\t\t\t{blog.coverImg !== undefined ? (\r\n\t\t\t\t\t\t<Banner\r\n\t\t\t\t\t\t\timg={'data:image/jpg;base64,' + blog.coverImg.toString('base64')}\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tquote={blog.quote}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Banner img={alt} alt={alt} quote={blog.quote} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"blog__timestamp\">{`${\r\n\t\t\t\t\t\tblog.location === undefined ? blog.location + \" - \" : \"\"\r\n\t\t\t\t\t}${blog.date === undefined ? \"\" : blog.date.slice(0, 10)}`}</div>\r\n\t\t\t\t\t<div className=\"blog__content\">\r\n\t\t\t\t\t\t<div className=\"blog__content__title\">{blog.title}</div>\r\n\t\t\t\t\t\t<div className=\"blog__content__body\">{blog.content}</div>\r\n\t\t\t\t\t\t<div className=\"blog__content__signature\">by {name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Helmet>\r\n\t\t);\r\n}\r\n\r\nexport default Blog;\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,kBAAT,KAAmC,4BAAnC,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,IAAP,KAAgB,8BAAhB,C,wFAEA,QAASC,KAAT,MAAwB,IAARC,KAAQ,MAARA,IAAQ,CACvB,GAAMC,OAAM,CAAGV,SAAS,EAAxB,CACA,GAAMW,KAAI,CAAGD,MAAM,CAACC,IAApB,CACA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,MAAK,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAAzB,CACAhB,SAAS,CAAC,UAAM,CACfa,QAAQ,CAACX,kBAAkB,CAACU,IAAD,CAAnB,CAAR,CACA,CAFQ,CAEN,CAACC,QAAD,CAAWD,IAAX,CAFM,CAAT,CAGA,GAAMI,KAAI,CAAGC,KAAK,CAACC,OAAN,CAAcJ,KAAd,EACVA,KADU,SACVA,KADU,iBACVA,KAAK,CAAEK,IAAP,CAAY,SAACH,IAAD,QAAUA,KAAI,CAACJ,IAAL,GAAcA,IAAxB,EAAZ,CADU,CAEVE,KAFH,CAIA;AACA;AACA;AACA;AAEA,GAAI,MAAOE,KAAP,GAAgB,QAApB,CACC;AACA,mBACC,KAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,uBACC,aAAK,SAAS,CAAC,MAAf,WACEA,IAAI,CAACI,QAAL,GAAkBC,SAAlB,cACA,KAAC,MAAD,EACC,GAAG,CAAE,yBAA2BL,IAAI,CAACI,QAAL,CAAcE,QAAd,CAAuB,QAAvB,CADjC,CAEC,GAAG,CAAEd,GAFN,CAGC,KAAK,CAAEQ,IAAI,CAACO,KAHb,EADA,cAOA,KAAC,MAAD,EAAQ,GAAG,CAAEf,GAAb,CAAkB,GAAG,CAAEA,GAAvB,CAA4B,KAAK,CAAEQ,IAAI,CAACO,KAAxC,EARF,cAUC,YAAK,SAAS,CAAC,iBAAf,oBACCP,IAAI,CAACQ,QAAL,GAAkBH,SAAlB,CAA8BL,IAAI,CAACQ,QAAL,CAAgB,KAA9C,CAAsD,EADvD,SAEGR,IAAI,CAACS,IAAL,GAAcJ,SAAd,CAA0B,EAA1B,CAA+BL,IAAI,CAACS,IAAL,CAAUC,KAAV,CAAgB,CAAhB,CAAmB,EAAnB,CAFlC,GAVD,cAaC,aAAK,SAAS,CAAC,eAAf,wBACC,YAAK,SAAS,CAAC,sBAAf,UAAuCV,IAAI,CAACW,KAA5C,EADD,cAEC,YAAK,SAAS,CAAC,qBAAf,UAAsCX,IAAI,CAACY,OAA3C,EAFD,cAGC,aAAK,SAAS,CAAC,0BAAf,iBAA8ClB,IAA9C,GAHD,GAbD,GADD,EADD,CAuBD,CAED,cAAeD,KAAf"},"metadata":{},"sourceType":"module"}