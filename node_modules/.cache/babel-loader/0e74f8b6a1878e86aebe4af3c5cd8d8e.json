{"ast":null,"code":"var _jsxFileName = \"D:\\\\WEB CODE LIB\\\\BlogProject\\\\client\\\\src\\\\pages\\\\EditBlog.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport namingBlogSlug from \"../utils/namingSlugs\";\nimport { createNewBlogAsync } from \"../features/post/blogSlice\";\nimport Helmet from \"../components/Helmet\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditBlog = _ref => {\n  _s();\n\n  let {\n    alias\n  } = _ref;\n  const textareaRef = useRef();\n  const imageRef = useRef();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const params = useParams();\n  console.log(params);\n  const slug = params.slug;\n  const blogs = useSelector(state => state.blog);\n  useEffect(() => {\n    dispatch(getBlogBySlugAsync(slug));\n  }, [dispatch, slug]);\n  const initialBlogState = {\n    title: \"\",\n    content: \"\",\n    quote: \"\",\n    date: new Date().toLocaleDateString(),\n    location: \"\",\n    slug: \"\",\n    topicID: \"5\"\n  };\n  const [newBlog, setNewBlog] = useState(initialBlogState);\n\n  const handleChange = input => event => {\n    setNewBlog({ ...newBlog,\n      [input]: event.target.value\n    });\n  };\n\n  const handleTitleChange = () => event => {\n    setNewBlog({ ...newBlog,\n      [\"title\"]: event.target.value,\n      [\"slug\"]: namingBlogSlug(event.target.value)\n    });\n  }; // const [image, setImage] = useState();\n\n\n  const readImage = e => {\n    const image = e.target.files[0];\n    console.log(image);\n  };\n\n  const imageUploadHandler = e => {};\n\n  const handleNewBlog = e => {\n    e.preventDefault();\n    dispatch(createNewBlogAsync({\n      blogReqData: newBlog\n    }));\n    navigate(`/${alias}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"T\\u1EA1o blog m\\u1EDBi\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-blog\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"new-blog__form\",\n        onSubmit: handleNewBlog,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: imageRef,\n          onChange: readImage,\n          className: \"new-blog__form__image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"quote\",\n          onChange: handleChange(\"quote\"),\n          className: \"new-blog__form__quote\",\n          placeholder: \"Ch\\xE2m ng\\xF4n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          className: \"new-blog__form__place\",\n          placeholder: \"\\u0110\\u1ECBa \\u0111i\\u1EC3m\",\n          onChange: handleChange(\"location\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          className: \"new-blog__form__title\",\n          placeholder: \"Ti\\xEAu \\u0111\\u1EC1\",\n          onChange: handleTitleChange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"content\",\n          className: \"new-blog__form__body\",\n          placeholder: \"N\\u1ED9i dung\",\n          ref: textareaRef,\n          onChange: handleChange(\"content\"),\n          onKeyUp: e => {\n            textareaRef.current.style.height = \"200px\";\n            let height = e.target.scrollHeight;\n\n            if (height > 200) {\n              // textareaRef.current.style.height = \"auto\";\n              textareaRef.current.style.height = `${height}px`;\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"new-blog__form__signature\",\n          placeholder: \"Ch\\u1EEF k\\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"new-blog__form__create-button\",\n          type: \"submit\",\n          children: \"T\\u1EA1o b\\xE0i vi\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditBlog, \"jx3MZZerFvKDUgIkPy30tAWSzEQ=\", true, function () {\n  return [useDispatch, useNavigate, useParams];\n});\n\n_c = EditBlog;\nexport default EditBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBlog\");","map":{"version":3,"names":["React","useState","useRef","useDispatch","namingBlogSlug","createNewBlogAsync","Helmet","useNavigate","useParams","EditBlog","alias","textareaRef","imageRef","dispatch","navigate","params","console","log","slug","blogs","useSelector","state","blog","useEffect","getBlogBySlugAsync","initialBlogState","title","content","quote","date","Date","toLocaleDateString","location","topicID","newBlog","setNewBlog","handleChange","input","event","target","value","handleTitleChange","readImage","e","image","files","imageUploadHandler","handleNewBlog","preventDefault","blogReqData","current","style","height","scrollHeight"],"sources":["D:/WEB CODE LIB/BlogProject/client/src/pages/EditBlog.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport namingBlogSlug from \"../utils/namingSlugs\";\r\nimport { createNewBlogAsync } from \"../features/post/blogSlice\";\r\nimport Helmet from \"../components/Helmet\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst EditBlog = ({ alias }) => {\r\n  const textareaRef = useRef();\r\n  const imageRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  console.log(params);\r\n  const slug = params.slug;\r\n  const blogs = useSelector((state) => state.blog);\r\n  useEffect(() => {\r\n    dispatch(getBlogBySlugAsync(slug));\r\n  }, [dispatch, slug]);\r\n\r\n  const initialBlogState = {\r\n    title: \"\",\r\n    content: \"\",\r\n    quote: \"\",\r\n    date: new Date().toLocaleDateString(),\r\n    location: \"\",\r\n    slug: \"\",\r\n    topicID: \"5\",\r\n  };\r\n\r\n  const [newBlog, setNewBlog] = useState(initialBlogState);\r\n\r\n  const handleChange = (input) => (event) => {\r\n    setNewBlog({ ...newBlog, [input]: event.target.value });\r\n  };\r\n\r\n  const handleTitleChange = () => (event) => {\r\n    setNewBlog({\r\n      ...newBlog,\r\n      [\"title\"]: event.target.value,\r\n      [\"slug\"]: namingBlogSlug(event.target.value),\r\n    });\r\n  };\r\n\r\n  // const [image, setImage] = useState();\r\n\r\n  const readImage = (e) => {\r\n    const image = e.target.files[0];\r\n    console.log(image);\r\n  };\r\n\r\n  const imageUploadHandler = (e) => {};\r\n\r\n  const handleNewBlog = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createNewBlogAsync({ blogReqData: newBlog }));\r\n    navigate(`/${alias}`);\r\n  };\r\n\r\n  return (\r\n    <Helmet title=\"Tạo blog mới\">\r\n      <div className=\"new-blog\">\r\n        <form className=\"new-blog__form\" onSubmit={handleNewBlog}>\r\n          <input\r\n            type=\"file\"\r\n            ref={imageRef}\r\n            onChange={readImage}\r\n            className=\"new-blog__form__image\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"quote\"\r\n            onChange={handleChange(\"quote\")}\r\n            className=\"new-blog__form__quote\"\r\n            placeholder=\"Châm ngôn\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            className=\"new-blog__form__place\"\r\n            placeholder=\"Địa điểm\"\r\n            onChange={handleChange(\"location\")}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"new-blog__form__title\"\r\n            placeholder=\"Tiêu đề\"\r\n            onChange={handleTitleChange()}\r\n          />\r\n          <textarea\r\n            type=\"text\"\r\n            name=\"content\"\r\n            className=\"new-blog__form__body\"\r\n            placeholder=\"Nội dung\"\r\n            ref={textareaRef}\r\n            onChange={handleChange(\"content\")}\r\n            onKeyUp={(e) => {\r\n              textareaRef.current.style.height = \"200px\";\r\n              let height = e.target.scrollHeight;\r\n              if (height > 200) {\r\n                // textareaRef.current.style.height = \"auto\";\r\n                textareaRef.current.style.height = `${height}px`;\r\n              }\r\n            }}\r\n          ></textarea>\r\n          <input\r\n            type=\"text\"\r\n            className=\"new-blog__form__signature\"\r\n            placeholder=\"Chữ ký\"\r\n          />\r\n          <button className=\"new-blog__form__create-button\" type=\"submit\">\r\n            Tạo bài viết\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nexport default EditBlog;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}