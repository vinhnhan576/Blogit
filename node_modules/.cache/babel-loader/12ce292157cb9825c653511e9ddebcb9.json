{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\HTML\\\\BlogProject\\\\client\\\\src\\\\pages\\\\EditBlog.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport namingBlogSlug from \"../utils/namingSlugs\";\nimport { getBlogBySlugAsync, createNewBlogAsync, updateBlogAsync } from \"../features/post/blogSlice\";\nimport Helmet from \"../components/Helmet\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditBlog = _ref => {\n  _s2();\n\n  var _s = $RefreshSig$(),\n      _newBlog,\n      _newBlog2,\n      _newBlog3,\n      _newBlog4;\n\n  let {\n    alias\n  } = _ref;\n  const textareaRef = useRef();\n  const imageRef = useRef();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const params = useParams();\n  console.log(params);\n  const slug = params.slug;\n  const blog = useSelector(state => state.blog);\n\n  _s(useEffect(_s(() => {\n    _s();\n\n    dispatch(getBlogBySlugAsync(slug));\n    const [newBlog, setNewBlog] = useState();\n  }, \"dAiV3uSIKDYZ5uKn7gYoDkqESNY=\"), [slug, dispatch, blog]), \"dAiV3uSIKDYZ5uKn7gYoDkqESNY=\"); // const initialBlogState = { ... };\n  // console.log(initialBlogState);\n  // console.log(blogs);\n\n\n  console.log(blog);\n  console.log(newBlog);\n\n  const handleChange = input => event => {\n    setNewBlog({ ...newBlog,\n      [input]: event.target.value\n    });\n  };\n\n  const handleTitleChange = () => event => {\n    setNewBlog({ ...newBlog,\n      [\"title\"]: event.target.value,\n      [\"slug\"]: namingBlogSlug(event.target.value)\n    });\n  }; // const [image, setImage] = useState();\n\n\n  const readImage = e => {\n    const image = e.target.files[0];\n    console.log(image);\n  };\n\n  const imageUploadHandler = e => {};\n\n  const handleNewBlog = e => {\n    e.preventDefault();\n    dispatch(updateBlogAsync({\n      blogReqData: newBlog\n    }));\n    navigate(`/${alias}/`);\n  };\n\n  console.log(newBlog);\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Ch\\u1EC9nh s\\u1EEBa blog\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-blog\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"new-blog__form\",\n        onSubmit: handleNewBlog,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: imageRef,\n          onChange: readImage,\n          className: \"new-blog__form__image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"quote\",\n          onChange: handleChange(\"quote\"),\n          className: \"new-blog__form__quote\",\n          placeholder: \"Quote\",\n          value: (_newBlog = newBlog) === null || _newBlog === void 0 ? void 0 : _newBlog.quote\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          className: \"new-blog__form__place\",\n          placeholder: \"\\u0110\\u1ECBa \\u0111i\\u1EC3m\",\n          onChange: handleChange(\"location\"),\n          value: (_newBlog2 = newBlog) === null || _newBlog2 === void 0 ? void 0 : _newBlog2.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          className: \"new-blog__form__title\",\n          placeholder: \"Ti\\xEAu \\u0111\\u1EC1\",\n          onChange: handleTitleChange(),\n          value: (_newBlog3 = newBlog) === null || _newBlog3 === void 0 ? void 0 : _newBlog3.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"content\",\n          className: \"new-blog__form__body\",\n          placeholder: \"N\\u1ED9i dung\",\n          ref: textareaRef,\n          value: (_newBlog4 = newBlog) === null || _newBlog4 === void 0 ? void 0 : _newBlog4.content,\n          onChange: handleChange(\"content\"),\n          onKeyUp: e => {\n            textareaRef.current.style.height = \"200px\";\n            let height = e.target.scrollHeight;\n\n            if (height > 200) {\n              // textareaRef.current.style.height = \"auto\";\n              textareaRef.current.style.height = `${height}px`;\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"new-blog__form__signature\",\n          placeholder: \"Ch\\u1EEF k\\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"new-blog__form__create-button\",\n          type: \"submit\",\n          children: \"S\\u1EEDa b\\xE0i vi\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(EditBlog, \"RcwiriQsjh+4dNmBOHjpBiwXMKo=\", false, function () {\n  return [useDispatch, useNavigate, useParams, useSelector];\n});\n\n_c = EditBlog;\nexport default EditBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBlog\");","map":{"version":3,"names":["React","useState","useRef","useDispatch","namingBlogSlug","getBlogBySlugAsync","createNewBlogAsync","updateBlogAsync","Helmet","useNavigate","useParams","useEffect","useSelector","EditBlog","alias","textareaRef","imageRef","dispatch","navigate","params","console","log","slug","blog","state","newBlog","setNewBlog","handleChange","input","event","target","value","handleTitleChange","readImage","e","image","files","imageUploadHandler","handleNewBlog","preventDefault","blogReqData","quote","location","title","content","current","style","height","scrollHeight"],"sources":["D:/Code/HTML/BlogProject/client/src/pages/EditBlog.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport namingBlogSlug from \"../utils/namingSlugs\";\r\nimport {\r\n\tgetBlogBySlugAsync,\r\n\tcreateNewBlogAsync,\r\n\tupdateBlogAsync,\r\n} from \"../features/post/blogSlice\";\r\nimport Helmet from \"../components/Helmet\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst EditBlog = ({ alias }) => {\r\n\tconst textareaRef = useRef();\r\n\tconst imageRef = useRef();\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\tconst params = useParams();\r\n\tconsole.log(params);\r\n\tconst slug = params.slug;\r\n\t\r\n\tconst blog = useSelector((state) => state.blog);\r\n\tuseEffect(() => {\r\n\t\tdispatch(getBlogBySlugAsync(slug));\r\n\t\tconst [newBlog, setNewBlog] = useState();\r\n\t}, [slug, dispatch, blog]);\r\n\t// const initialBlogState = { ... };\r\n\t// console.log(initialBlogState);\r\n\t// console.log(blogs);\r\n\t\r\n\tconsole.log(blog);\r\n\tconsole.log(newBlog);\r\n\r\n\tconst handleChange = (input) => (event) => {\r\n\t\tsetNewBlog({ ...newBlog, [input]: event.target.value });\r\n\t};\r\n\r\n\tconst handleTitleChange = () => (event) => {\r\n\t\tsetNewBlog({\r\n\t\t\t...newBlog,\r\n\t\t\t[\"title\"]: event.target.value,\r\n\t\t\t[\"slug\"]: namingBlogSlug(event.target.value),\r\n\t\t});\r\n\t};\r\n\r\n\t// const [image, setImage] = useState();\r\n\r\n\tconst readImage = (e) => {\r\n\t\tconst image = e.target.files[0];\r\n\t\tconsole.log(image);\r\n\t};\r\n\r\n\tconst imageUploadHandler = (e) => {};\r\n\r\n\tconst handleNewBlog = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateBlogAsync({ blogReqData: newBlog }));\r\n\t\tnavigate(`/${alias}/`);\r\n\t};\r\n\tconsole.log(newBlog);\r\n\r\n\treturn (\r\n\t\t<Helmet title=\"Chỉnh sừa blog\">\r\n\t\t\t<div className=\"new-blog\">\r\n\t\t\t\t<form className=\"new-blog__form\" onSubmit={handleNewBlog}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tref={imageRef}\r\n\t\t\t\t\t\tonChange={readImage}\r\n\t\t\t\t\t\tclassName=\"new-blog__form__image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"quote\"\r\n\t\t\t\t\t\tonChange={handleChange(\"quote\")}\r\n\t\t\t\t\t\tclassName=\"new-blog__form__quote\"\r\n\t\t\t\t\t\tplaceholder=\"Quote\"\r\n\t\t\t\t\t\tvalue={newBlog?.quote}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"location\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__place\"\r\n\t\t\t\t\t\tplaceholder=\"Địa điểm\"\r\n\t\t\t\t\t\tonChange={handleChange(\"location\")}\r\n\t\t\t\t\t\tvalue={newBlog?.location}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__title\"\r\n\t\t\t\t\t\tplaceholder=\"Tiêu đề\"\r\n\t\t\t\t\t\tonChange={handleTitleChange()}\r\n\t\t\t\t\t\tvalue={newBlog?.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"content\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__body\"\r\n\t\t\t\t\t\tplaceholder=\"Nội dung\"\r\n\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\tvalue={newBlog?.content}\r\n\t\t\t\t\t\tonChange={handleChange(\"content\")}\r\n\t\t\t\t\t\tonKeyUp={(e) => {\r\n\t\t\t\t\t\t\ttextareaRef.current.style.height = \"200px\";\r\n\t\t\t\t\t\t\tlet height = e.target.scrollHeight;\r\n\t\t\t\t\t\t\tif (height > 200) {\r\n\t\t\t\t\t\t\t\t// textareaRef.current.style.height = \"auto\";\r\n\t\t\t\t\t\t\t\ttextareaRef.current.style.height = `${height}px`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}></textarea>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__signature\"\r\n\t\t\t\t\t\tplaceholder=\"Chữ ký\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"new-blog__form__create-button\" type=\"submit\">\r\n\t\t\t\t\t\tSửa bài viết\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nexport default EditBlog;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}